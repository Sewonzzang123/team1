<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="mappers.AdminDAO-mapper">
	<select id="getCate"
		resultType="com.my.maintest.board.vo.BcategoryVO">
		select catnum,catname,btype,bmemo from bcategory order by catnum
		<!-- select t1.catnum, t1.catname, t1.btype, t1.bmemo, t2.hidnum as "headIdCategory.hidnum" 
			, t2.hidname as "headIdCategory.hidname" from bcategory t1 LEFT OUTER JOIN 
			headid t2 on t1.catnum=t2.catnum order by catnum asc -->
	</select>

	<delete id="delBoard" parameterType="string">
		delete bcategory where
		catnum=${catnum}
	</delete>

	<insert id="createBoard"
		parameterType="com.my.maintest.board.vo.BcategoryVO">
		insert into bcategory (catnum, catname, btype, bmemo)
		values (bnum_seq.NEXTVAL, #{catname}, #{btype}, #{bmemo})
	</insert>

	<update id="setBoard"
		parameterType="com.my.maintest.board.vo.BcategoryVO">
		update bcategory set catname = #{catname},
		btype=#{btype}, bmemo=#{bmemo} where catnum=#{catnum}
	</update>

	<!-- 말머리 -->
	<select id="getHead"
		resultType="com.my.maintest.board.vo.HeadIdCategoryVO">
		select hidnum,catnum,hidname from headid order by hidnum
		asc
	</select>

	<insert id="setHead"
		parameterType="com.my.maintest.board.vo.HeadIdCategoryVO">
		insert into headid (hidNum,catNum,hidName) VALUES
		(hidnum_seq.nextval,
		#{catnum}, #{hidname})
	</insert>

	<delete id="delHead" parameterType="string">
		delete headid where
		hidnum=#{hidnum}
	</delete>

	<!-- 아이템 관리 -->
	<select id="getIcate"
		resultType="com.my.maintest.item.vo.ItemCategoryVO">
		select * from i_category
	</select>

	<select id="getItem" resultType="com.my.maintest.item.vo.ItemVO">
		select ca_num
		as"itemCategoryVO.ca_num", i_num, i_name from item
	</select>

	<delete id="delIcate" parameterType="string">
		delete i_category where
		ca_num=#{ca_num}
	</delete>


	<delete id="delItem" parameterType="string">
		delete item where
		i_num=#{i_num}
	</delete>

	<insert id="setIcate" parameterType="string">
		insert into i_category (ca_num, ca_name) values (ca_num_seq.nextval,
		#{ca_name})
	</insert>

<!-- 	<update id="modifyIcate"></update>

	<insert id="setItem"></insert> -->

</mapper>