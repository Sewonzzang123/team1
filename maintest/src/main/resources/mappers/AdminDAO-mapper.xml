<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="mappers.AdminDAO-mapper">
	<select id="getCate"
		resultType="com.my.maintest.board.vo.BcategoryVO">
		select catnum,catname,btype,bmemo from bcategory order by catnum
		<!-- select t1.catnum, t1.catname, t1.btype, t1.bmemo, t2.hidnum as "headIdCategory.hidnum" 
			, t2.hidname as "headIdCategory.hidname" from bcategory t1 LEFT OUTER JOIN 
			headid t2 on t1.catnum=t2.catnum order by catnum asc -->
	</select>

	<delete id="delBoard" parameterType="string">
		delete bcategory where
		catnum=${catnum}
	</delete>

	<insert id="createBoard"
		parameterType="com.my.maintest.board.vo.BcategoryVO">
		insert into bcategory (catnum, catname, btype, bmemo)
		values (bnum_seq.NEXTVAL, #{catname}, #{btype}, #{bmemo})
	</insert>

	<update id="setBoard"
		parameterType="com.my.maintest.board.vo.BcategoryVO">
		update bcategory set catname = #{catname},
		btype=#{btype}, bmemo=#{bmemo} where catnum=#{catnum}
	</update>

	<!-- 말머리 -->
	<select id="getHead"
		resultType="com.my.maintest.board.vo.HeadIdCategoryVO">
		select hidnum,catnum,hidname from headid order by hidnum
		asc
	</select>

	<insert id="setHead"
		parameterType="com.my.maintest.board.vo.HeadIdCategoryVO">
		insert into headid (hidNum,catNum,hidName) VALUES
		(hidnum_seq.nextval,
		#{catnum}, #{hidname})
	</insert>

	<delete id="delHead" parameterType="string">
		delete headid where
		hidnum=#{hidnum}
	</delete>

</mapper>